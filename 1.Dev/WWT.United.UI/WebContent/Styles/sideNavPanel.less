/* ------------------------------------------------------------
Title: Side Navigation Panel

There are useful CSS hooks you may need...view details in
side-nav repo readme.
--------------------------------------------------------------- */

// Variables
// --------------------------------------------------
@snpWidth: 260px;
@snpBackground: #373737;
@snpGrayLight: #424242;
@snpGrayDark: #2a2a2a;
@snpLinkActive: #eaeae5;
@snpTextShadow: 0 1px 1px rgba(0,0,0,.2);
@snpGroupHeaderGradientStart: #3e3e3e 9%;
@snpGroupHeaderGradientEnd: #484848 55%;
@snpAnimationSpeed: 0.3s;
@snpSearchAnimationSpeed: 0.1s;
@snpToggleSize: 28px;
@snpFavColor: #fbc86e;

// Imports
// --------------------------------------------------
@import "snpVariables";
@import "snpIcons";

// Mixins
// --------------------------------------------------
.panelIconFixForChrome {
  // prevents font awesome icons from appearing bolded
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale; // won't work until FF v.25
}

@font-face {
font-family: 'snpFont';
src: url('font-awesome/font/snp-webfont.eot');
src: url('font-awesome/font/snp-webfont.eot') format('embedded-opentype'), url('font-awesome/font/snp-webfont.woff') format('woff'), url('font-awesome/font/snp-webfont.ttf') format('truetype'), url('font-awesome/font/snp-webfont.svg') format('svg');
font-weight: normal;
font-style: normal;
}

// hook up snp-specific icons
.snp-font {
font-family: 'snpFont';
font-style: normal;
font-weight: normal;
.panelIconFixForChrome;
}

// base icon properties
i[class^='snp-']:before {
display: inline-block;
font-family: 'snpFont';
font-style: normal;
font-weight: normal;
line-height: 1;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
}

i[class^='snp-'] {
display: inline-block;
width: 1.7em;
text-align: center;
}

.snp-transition(@property: all, @duration: @snpAnimationSpeed, @function: ease-in-out) {
-webkit-transition: @property @duration @function;
-moz-transition: @property @duration @function;
-o-transition: @property @duration @function;
transition: @property @duration @function;
}

.snp-translate(@x, @y) {
-webkit-transform: translate(@x, @y);
-moz-transform: translate(@x, @y);
-ms-transform: translate(@x, @y);
-o-transform: translate(@x, @y);
transform: translate(@x, @y);
}

.snp-box-sizing(@boxmodel) {
-webkit-box-sizing: @boxmodel;
-moz-box-sizing: @boxmodel;
box-sizing: @boxmodel;
}

.clearfix {
*zoom: 1;
&:before,
&:after {
display: table;
content: "";
// Fixes Opera/contenteditable bug:
// http://nicolasgallagher.com/micro-clearfix-hack/#comment-36952
line-height: 0;
}
&:after {
clear: both;
}
}


// Let's DO this...
// --------------------------------------------------

/*
html, body {
  height: 100%;
  min-height: 100%;
}*/

body.snp-open {
  // this is a dirty hack for double scroll bar issues. As a result, only the side-nav scrolls
  // when it's open (page content does not)...override this in your app's css if you want different behavior
  overflow: hidden;
}

/* Wrapper around existing site content
----------------------------------------------------- */
#wrapper {
  .snp-transition;
  background: #fff; // should match site's pre-existing background
min-height: 100%;
position: relative;

&.togglePanel {
.snp-translate(-@snpWidth, 0);
}

&.togglePanelFallback {
right: @snpWidth;
}
}

.snp-open #wrapper {
overflow: hidden;
box-shadow: 1px 0 35px 0 rgba(0,0,0,.35);
}


/* Toggle
----------------------------------------------------- */
#snp-toggle {
.snp-transition;
float: right;
margin: 6px 0;
line-height: @snpToggleSize;
vertical-align: middle;
color: #777;
cursor: pointer;

&:hover {
color: #333;
.user-img:before {
color: #555;
}
}

.user-img {
position: relative;
float: left;
width: @snpToggleSize;
height: @snpToggleSize;

&:before, &:after {
position: absolute;
left: 0;
top: 0;
width: 100%;
height: 100%;
}

// fallback for users without pics (is covered by user pic when they have one)
&:before {
.snp-transition;
content: "\f007"; // user icon
.snp-font;
font-size: 18px;
color: #ccc;
text-align: center;
box-shadow: inset 0 0 1px #777;
border-radius: 50%;
}

// user pic
&:after {
content: "";
background-image:url(/apirouter/api/forward/user/picture/small);
background-repeat: no-repeat;
background-position: center;
background-size: cover;
border-radius: 50%;
}
}

.user-name {
float: left;
position: relative;
padding: 0 24px 0 9px;

&:after {
.snp-font;
content: "\f0c9"; // hamburger icon (3 bars)
font-size: 14px;
position: absolute;
top: 0;
right: 0;
}

@media only screen and (max-width : 480px) {
display: none;
}
}
}

.snp-open #snp-toggle .user-img:before {
color: #555;
}


/* Panel
----------------------------------------------------- */
#side-nav-panel {
.snp-box-sizing(border-box);
display: none;
position: fixed !important;
height: 100%;
overflow: auto;
-webkit-overflow-scrolling: touch;
top: 0;
right: 0;
width: @snpWidth;
min-height: 100%;
background: @snpBackground;
border-top: 1px solid @snpBackground;
font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;

* {
.snp-box-sizing(inherit);
}
.snp-tabs, .snp-tab-content {
margin: 0;
padding: 0;
list-style: none;
clear: both;
}


/* Panel Tabs
-------------------------------- */
.snp-tabs {
width: 100%;
float: left;

li {
.snp-transition;
margin: 0;
padding: 0;
width: 33%;
height: 39px;
float: left;
background: @snpBackground;
font-size: 13px;
color: #838383;
text-align: center;
line-height: 39px;
cursor: pointer;
border: 1px solid @snpGrayLight;
border-right-color: @snpGrayDark;
border-bottom-color: @snpGrayDark;
position: relative;

&:first-child:before {
.snp-font;
content: "\f005"; // icon-star
font-size: 12px;
padding-right: 5px;
margin-left: -5px;
color: @snpFavColor;
}

&:last-child{
border-right: none;
}

&:hover {
color: @snpLinkActive;
}

&.active {
color: @snpLinkActive;

&:after {
content: "";
position: absolute;
top: -1px;
left: -1px;
right: -1px;
height: 2px;
background: #0071b3;
border-right: 1px solid #004c73;
}
}
}
}


/* Panel Content
-------------------------------- */
.snp-tab-content {
display: none;

li {
.snp-transition;
margin: 0;
padding: 0 8px 0 6px;
font-size: 14px;
height: 44px;
line-height: 44px;
text-shadow: @snpTextShadow;
border-top: 1px solid @snpGrayLight;
border-bottom: 1px solid @snpGrayDark;
position: relative;

&:hover {
background: @snpGrayLight;
border-top: 1px solid #575757;
}

i {
// font awesome icons
font-size: 20px;
padding: 0 6px 0 2px;
vertical-align: middle;
.panelIconFixForChrome;
}

&:hover i {
color: #fff;
}

.a-link {
width: 100%;
padding-right: 25px;

// truncate
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;

// fix for an issue with IE6-9 trying to apply "font awesome-ness" to the ellipsis,
// no easy css fix found, using JS function for IE (staying with css use for other broser) */
text-overflow: clip \9;
-ms-text-overflow: clip \9;
}

.snp-fav {
position: absolute;
top: 0;
right: 0;
width: auto;
padding: 0 4px 0 8px;
text-align: right;

&:hover i {
color: @snpFavColor;
}

i {
.snp-transition;
font-size: 16px;
}

.snp-star {
color: @snpFavColor;
}
}
}

.snp-group, .snp-group:hover {
color: #999;
background: #484848;
font-size: 11px;
height: 24px;
line-height: 21px;
text-transform: uppercase;
border-top: 1px solid #535353;
border-bottom: 1px solid @snpGrayDark;

// didn't use bootstrap mixin due to need for percentages support
      background-image: -moz-linear-gradient(bottom, @snpGroupHeaderGradientStart, @snpGroupHeaderGradientEnd);
      background-image: -webkit-linear-gradient(bottom, @snpGroupHeaderGradientStart, @snpGroupHeaderGradientEnd);
      background-image: -o-linear-gradient(bottom, @snpGroupHeaderGradientStart, @snpGroupHeaderGradientEnd);
      background-image: -ms-linear-gradient(bottom, @snpGroupHeaderGradientStart, @snpGroupHeaderGradientEnd);
      background-image: linear-gradient(bottom, @snpGroupHeaderGradientStart, @snpGroupHeaderGradientEnd);
    }

    .active, .active:hover {
      background: @snpGrayDark;
      border-top: none;
    }

    .active a {
      color: @snpLinkActive;
      cursor: default;
    }

    .active i, .active:hover i {
      color: #0071b3;
    }

    a {
      display: inline-block;
      color: #c0bfbb;
      text-decoration: none;

      &:hover {
        color: @snpLinkActive;
      }
    }
  }

  /* User Logout
-------------------------------- */
  .snp-logout {
    .clearfix();
    padding: 0 2px 0 2px;
    font-size: 12px;
    border-bottom: 1px solid #2a2a2a;
    box-shadow: 0 1px 0 #424242;

    a, i {
      color: #787878;
      padding: 1px 10px;

      &:before {
        .snp-font;
      }

      &:hover {
        color: @snpLinkActive;
        text-decoration: none;
      }

      &:active {
        color: @snpLinkActive;
      }

    }

    a {
      float: left;


      &:before {
        content: "\f011"; // icon-off (logout)
        font-size: 13px;
        padding-right: 5px;
      }
    }

    i {
      display: block;
      float: right;
      font-size: 14px;
      cursor: pointer;

      &:before {
        content: "\f00d"; // icon-remove (close)
      }
    }
  }

  /* Error Messaging
-------------------------------- */
  .snp-error, .snp-no-results{
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    margin: 15px;
    color: #c0bfbb;
    display: none;
  }
  .snp-no-results {
    margin-top: 55px;
  }

} // end #side-nav-panel


/* Panel Search/Filter
-------------------------------- */
#snp-search {
  border-bottom: 1px solid @snpGrayDark;
  position: relative;

  input {
    .snp-box-sizing(content-box);
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    margin: 11px 0 12px 8px;
    padding: 5px 12px 5px 29px;

    margin-left: 11px \9; /* IE6-9 */
    padding-top: 8px \9; /* IE(6-9) */

    width: 78%;
    font-size: 14px;
    line-height: 16px;
    color: #bdbcbc;
    background-color: #595959;
    border: none;
    border-radius: 16px;
    box-shadow: inset 0 2px 0px rgba(0,0,0,.10);

    // focus state (override bootstrap)
    &:focus {
      border-color: rgba(82,168,236,.8);
      outline: 0;
    }

    .placeholder-text {
      .snp-transition(all, @snpSearchAnimationSpeed);
      color: #777;
    }

    // two -moz prefix versions on purpose
    &:-ms-input-placeholder {.placeholder-text;}
    &:-moz-placeholder {.placeholder-text;}
    &::-moz-placeholder {.placeholder-text;}
    &::-webkit-input-placeholder {.placeholder-text;}

    // change placeholder text color on input focus
    &:focus:-ms-input-placeholder {color: #595959;}
    &:focus:-moz-placeholder {color: #595959;}
    &:focus::-moz-placeholder {color: #595959;}
    &:focus::-webkit-input-placeholder {color: #595959;}
  }

  // search icon
  &:before {
    content: "\f002";
    .snp-font;
    position: absolute;
    top: 4px;
    top: 17px \9; /* IE6-9 */
    left: 16px;
    color: #8a8888;
    font-weight: bold;
    font-size: 15px;
  }
}

/* NAM login panel when SSO session is expired
--------------------------------------------------------*/
.snp-login-error {
    &:before {
        content: "\f071"; // warning icon
        font-family: FontAwesome;
        font-size: 60px;
        left: 100px;
        position: absolute;
        color: #fc0;
        text-shadow: 2px 2px 3px #222;
        top: 112px;
    }
}
#snp-nam-check {
    .snp-transition;
    border: 1px solid #da0;
    border-radius: 3px;
    cursor: pointer;
    color: #333;
    font-family: Arial;
    font-size: 13px;
    margin: 200px auto 0 auto;
    text-shadow: 0 1px 0 #aaa;
    box-shadow: 2px 2px 3px #222;
    padding: 10px;
    background: #999;
    text-align: center;
    width: 200px;
    &:hover {
        background: #aaa;
        color: #111;
    }
}

/* IE Hacks. Oh joy.
-------------------------------- */
#snp-toggle .user-img:before {
  // user img fallback was showing on top of actual pic, since IE8 won't properly z-index pusedo elements
display: none\9;
}

.snp-open .navbar-fixed-top {
// right or wrong, IE won't translate fixed elements like other browsers do, so go absolute while panel is open
  position: absolute;
}

/* Mobile Breaks
-------------------------------- */
@media (max-width: 960px) {
  #snp-toggle {
    .user-name {
      display: none;
    }
  }
}